!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(e){return t[e]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s="mdyV")}({"+BZU":function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return h}));var f=n("+MSS"),d=n("tp4g"),p=n("pT2+"),h=function(t){function e(t,e){var n;return s(l(n=u.call(this)),"node",void 0),s(l(n),"text",void 0),s(l(n),"anchorAngle",void 0),s(l(n),"mouseOffsetAngle",void 0),n.node=t,n.anchorAngle=0,n.mouseOffsetAngle=0,n.text="",e&&n.set_anchor_point(e.x,e.y),n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&i(t,e)}(e,t);var n,r,c,u=a(e);return n=e,r=[{key:"set_mouse_start",value:function(t,e){this.mouseOffsetAngle=this.anchorAngle-Math.atan2(e-this.node.y,t-this.node.x)}},{key:"set_anchor_point",value:function(t,e){this.anchorAngle=Math.atan2(e-this.node.y,t-this.node.x)+this.mouseOffsetAngle;var n=Math.round(this.anchorAngle/(Math.PI/2))*(Math.PI/2);Math.abs(this.anchorAngle-n)<.1&&(this.anchorAngle=n),this.anchorAngle<-Math.PI&&(this.anchorAngle+=2*Math.PI),this.anchorAngle>Math.PI&&(this.anchorAngle-=2*Math.PI)}},{key:"get_endpoints_and_circle",value:function(){var t=this.node.x+1.5*d.e*Math.cos(this.anchorAngle),e=this.node.y+1.5*d.e*Math.sin(this.anchorAngle),n=.75*d.e,r=this.anchorAngle-.8*Math.PI,o=this.anchorAngle+.8*Math.PI;return{hasCircle:!0,startX:t+n*Math.cos(r),startY:e+n*Math.sin(r),endX:t+n*Math.cos(o),endY:e+n*Math.sin(o),startAngle:r,endAngle:o,circleX:t,circleY:e,circleRadius:n}}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.get_endpoints_and_circle();t.beginPath(),t.arc(n.circleX,n.circleY,n.circleRadius,n.startAngle,n.endAngle,!1),t.stroke();var r=n.circleX+n.circleRadius*Math.cos(this.anchorAngle),o=n.circleY+n.circleRadius*Math.sin(this.anchorAngle);Object(p.c)(t,this.text,r,o,this.anchorAngle,this.selected,e),Object(p.b)(t,n.endX,n.endY,n.endAngle+.4*Math.PI)}},{key:"contains_point",value:function(t){var e=this.get_endpoints_and_circle(),n=t.x-e.circleX,r=t.y-e.circleY,o=Math.sqrt(n*n+r*r)-e.circleRadius;return Math.abs(o)<d.d}}],r&&o(n.prototype,r),c&&o(n,c),Object.defineProperty(n,"prototype",{writable:!1}),e}(f.a)},"+MSS":function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return a}));var i=n("tp4g"),a=function(){function t(){o(this,"selected",!1),o(this,"active",!1),o(this,"text","")}var e,n,a;return e=t,(n=[{key:"curr_colour",value:function(){return this.selected?i.f:this.active?i.a:i.h}}])&&r(e.prototype,n),a&&r(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"1aiP":function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,c,l){return t*o*l+e*i*a+n*r*c-t*i*c-e*r*l-n*o*a}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return _}));var d=n("+MSS"),p=n("tp4g"),h=n("pT2+"),_=function(t){function e(t,e){var n;return f(u(n=s.call(this)),"nodeA",void 0),f(u(n),"nodeB",void 0),f(u(n),"text",void 0),f(u(n),"lineAngleAdjust",void 0),f(u(n),"parallelPart",void 0),f(u(n),"perpendicularPart",void 0),n.nodeA=t,n.nodeB=e,n.text="",n.lineAngleAdjust=0,n.parallelPart=.5,n.perpendicularPart=0,n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&a(t,e)}(e,t);var n,o,l,s=c(e);return n=e,o=[{key:"get_anchor_point",value:function(){var t=this.nodeB.x-this.nodeA.x,e=this.nodeB.y-this.nodeA.y,n=Math.sqrt(t*t+e*e);return{x:this.nodeA.x+t*this.parallelPart-e*this.perpendicularPart/n,y:this.nodeA.y+e*this.parallelPart+t*this.perpendicularPart/n}}},{key:"set_anchor_point",value:function(t,e){var n=this.nodeB.x-this.nodeA.x,r=this.nodeB.y-this.nodeA.y,o=Math.sqrt(n*n+r*r);this.parallelPart=(n*(t-this.nodeA.x)+r*(e-this.nodeA.y))/(o*o),this.perpendicularPart=(n*(e-this.nodeA.y)-r*(t-this.nodeA.x))/o,this.parallelPart>0&&this.parallelPart<1&&Math.abs(this.perpendicularPart)<p.g&&(this.lineAngleAdjust=+(this.perpendicularPart<0)*Math.PI,this.perpendicularPart=0)}},{key:"get_endpoints_and_circle",value:function(){if(0==this.perpendicularPart){var t=(this.nodeA.x+this.nodeB.x)/2,e=(this.nodeA.y+this.nodeB.y)/2,n=this.nodeA.closest_point_on_circle(t,e),o=this.nodeB.closest_point_on_circle(t,e);return{hasCircle:!1,startX:n.x,startY:n.y,endX:o.x,endY:o.y}}var i,a,c,l,u,s,f,d,h,_,y=this.get_anchor_point(),v=(f=r(i=this.nodeA.x,a=this.nodeA.y,1,c=this.nodeB.x,l=this.nodeB.y,1,u=y.x,s=y.y,1),d=-r(i*i+a*a,a,1,c*c+l*l,l,1,u*u+s*s,s,1),h=r(i*i+a*a,i,1,c*c+l*l,c,1,u*u+s*s,u,1),_=-r(i*i+a*a,i,a,c*c+l*l,c,l,u*u+s*s,u,s),{x:-d/(2*f),y:-h/(2*f),radius:Math.sqrt(d*d+h*h-4*f*_)/(2*Math.abs(f))}),b=this.perpendicularPart>0,m=b?1:-1,g=Math.atan2(this.nodeA.y-v.y,this.nodeA.x-v.x)-m*p.e/v.radius,j=Math.atan2(this.nodeB.y-v.y,this.nodeB.x-v.x)+m*p.e/v.radius;return{hasCircle:!0,startX:v.x+v.radius*Math.cos(g),startY:v.y+v.radius*Math.sin(g),endX:v.x+v.radius*Math.cos(j),endY:v.y+v.radius*Math.sin(j),startAngle:g,endAngle:j,circleX:v.x,circleY:v.y,circleRadius:v.radius,reverseScale:m,isReversed:b}}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.get_endpoints_and_circle();if(t.beginPath(),n.hasCircle?t.arc(n.circleX,n.circleY,n.circleRadius,n.startAngle,n.endAngle,n.isReversed):(t.moveTo(n.startX,n.startY),t.lineTo(n.endX,n.endY)),t.stroke(),n.hasCircle?Object(h.b)(t,n.endX,n.endY,n.endAngle-n.reverseScale*(Math.PI/2)):Object(h.b)(t,n.endX,n.endY,Math.atan2(n.endY-n.startY,n.endX-n.startX)),n.hasCircle){var r=n.startAngle,o=n.endAngle;o<r&&(o+=2*Math.PI);var i=(r+o)/2+ +n.isReversed*Math.PI,a=n.circleX+n.circleRadius*Math.cos(i),c=n.circleY+n.circleRadius*Math.sin(i);Object(h.c)(t,this.text,a,c,i,this.selected,e)}else{var l=(n.startX+n.endX)/2,u=(n.startY+n.endY)/2,s=Math.atan2(n.endX-n.startX,n.startY-n.endY);Object(h.c)(t,this.text,l,u,s+this.lineAngleAdjust,this.selected,e)}}},{key:"contains_point",value:function(t){var e=t.x,n=t.y,r=this.get_endpoints_and_circle();if(!r.hasCircle){var o=r.endX-r.startX,i=r.endY-r.startY,a=Math.sqrt(o*o+i*i),c=(o*(e-r.startX)+i*(n-r.startY))/(a*a);return c>0&&c<1&&Math.abs((o*(n-r.startY)-i*(e-r.startX))/a)<p.d}var l=e-r.circleX,u=n-r.circleY,s=Math.sqrt(l*l+u*u)-r.circleRadius;if(Math.abs(s)<p.d){var f=Math.atan2(u,l),d=r.startAngle,h=r.endAngle;if(r.isReversed){var _=d;d=h,h=_}return h<d&&(h+=2*Math.PI),f<d?f+=2*Math.PI:f>h&&(f-=2*Math.PI),f>d&&f<h}return!1}}],o&&i(n.prototype,o),l&&i(n,l),Object.defineProperty(n,"prototype",{writable:!1}),e}(d.a)},GClJ:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=function(t){t=t.replace(/(\w)\*/g,"($1)*"),t=Object(wt.a)(t);var e=[],n=0,r=0;for(;r<t.length;){if(yt.includes(t[r]))n!=r&&e.push(t.slice(n,r)),n=r+1,e.push(t[r]);else if(t[r]==dt){for(var o=e.length-1,i=0;o>=0&&(e[o]==_t?i++:e[o]==ht&&i--,0!=i);)o--;e.splice(o,0,t[r]),n=r+1}r++}n!=r&&e.push(t.slice(n));r=e.length-1;for(;r>0;)mt.includes(e[r-1])||gt.includes(e[r])||e.splice(r,0,ft),r--;return e}(t),n=[],r=[],o=0;o<e.length;o++){var i=e[o];if(i==dt)r.push(i);else if(vt.includes(i)){for(;r.length>0;){var a=r[r.length-1];if(!(a!=ht&&jt[a]>=jt[i]))break;var c=r.pop();null!=c&&n.push(c)}r.push(i)}else if(i==ht)r.push(i);else if(i==_t){for(;r.length>0;){if(r[r.length-1]==ht)break;var l=r.pop();null!=l&&n.push(l)}if(0==r.length&&console.error("The operator stack is empty, fix the parentheses."),r.pop(),r.length>0&&bt.includes(r[length-1])){var u=r.pop();null!=u&&n.push(u)}}else n.push(i)}for(var s=r.pop();null!=s;)n.push(s),s=r.pop();return n}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){var n,r=i(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.includes(o)||t.push(o)}}catch(t){r.e(t)}finally{r.f()}}function l(t){return t instanceof kt.a?"".concat(t.text,":").concat(t.x,",").concat(t.y):t instanceof lt.a?"".concat(l(t.nodeA),"->").concat(l(t.nodeB),":").concat(t.text).concat(t.get_anchor_point().x,",").concat(t.get_anchor_point().y):t instanceof st.a?"".concat(l(t.node),":").concat(t.get_start_point().x,",").concat(t.get_start_point().y):JSON.stringify(t)}function u(){var t=Object(at.c)();if(null!=t){var e=t.el;if(null!=e)return{x:Math.random()*(e.width-2*ct.b)+ct.b,y:Math.random()*(e.height-2*ct.b)+ct.b}}return{x:0,y:0}}function s(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e,n){if(t.isAcceptState)return!1;for(var r=[],o=[],i=[],a=[],c=0;c<n.length;c++){var u=n[c];if(u instanceof ut.a&&u.node==t)i.push(u);else if(u instanceof lt.a)u.nodeA==t?o.push(u):u.nodeB==t&&r.push(u);else if(u instanceof st.a&&u.node==t)return!1}var d="";if(i.length>0){for(var p=[],y=0;y<i.length;y++)p.push.apply(p,s(i[y].text.split(",")));1==p.length&&1==p[0].length?d="".concat(p[0],"*"):p.length>0&&(d="(".concat(p.join("+"),")*"))}for(var v=0;v<r.length;v++)for(var b=r[v],m=0;m<o.length;m++){var g=o[m],j=void 0,O=void 0;O="".concat(h(b.text.split(",").map((function(t){return t.trim()})).join("+"))).concat(d).concat(h(g.text.split(",").map((function(t){return t.trim()})).join("+"))),j=b.nodeA==g.nodeB?new ut.a(b.nodeA):new lt.a(b.nodeA,g.nodeB),O=_(O.replace(new RegExp("/([)*w])(".concat(Ot,")/g")),"$1").replace(new RegExp("/(".concat(Ot,")([(w])/g")),"$2")),j.text=O,n.push(j)}for(var w=n.length;w--;)(r.some((function(t){return t==n[w]}))||o.some((function(t){return t==n[w]}))||i.some((function(t){return t==n[w]})))&&n.splice(w,1);e.splice(e.indexOf(t),1);for(var k=0;k<a.length;k++)n.push(a[k]);return function(t){for(var e=[],n=new Map,r=0;r<t.length;r++){var o=t[r];if(o instanceof ut.a){var i=l(o.node),a=n.get(i);null!=a?a.push(o):n.set(i,[o])}else if(o instanceof lt.a){var c=l(o.nodeA)+l(o.nodeB),u=n.get(c);null!=u?u.push(o):n.set(c,[o])}}var s,d=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(n.values());try{for(d.s();!(s=d.n()).done;){var p=s.value;if(p.length>1){p[0].text="".concat(p.map((function(t){return t.text})).join("+"));for(var h=1;h<p.length;h++)e.push(p[h])}}}catch(t){d.e(t)}finally{d.f()}var _=t.length;for(;_--;)e.includes(t[_])&&t.splice(_,1)}(n),!0}function h(t){if(t.includes("+")){var e=o(t);if(e.length>0&&e[e.length-1]==pt){if(t.charAt(0)!=ht||t.charAt(t.length-1)!=_t)return"(".concat(t,")");for(var n=0,r=1;r<t.length-1;r++)if(t[r]==ht?n++:t[r]==_t&&n--,n<0)return"(".concat(t,")");if(0!=n)return console.warn('String "'.concat(t,'" has non matching number of parentheses.')),t}}return t}function _(t){if(t.length>2&&t.charAt(0)==ht&&t.charAt(t.length-1)==_t){for(var e=0,n=1;n<t.length-1;n++)if(t[n]==ht?e++:t[n]==_t&&e--,e<0)return t;return 0!=e?t:t.substring(1,t.length-1)}return t}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){return function(t){if(Array.isArray(t))return A(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){if(t){if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){R(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||C(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=C(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function C(t,e){if(t){if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return e&&X(t.prototype,e),n&&X(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(t,e)||U(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=U(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function U(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(t){var e=new St,n=t.nodes,r=t.links;if(e.load(n,r),e.is_deterministic())return console.warn("Tried to perform subset construction on a DFA."),!1;if(-1==e.starting_state)return console.warn("FA has no starting state so subset construction failed."),!1;var o=function(t){var e=new St,n=new Map,r=[],o=[],i=0;e.starting_state=0;var a=t.get_equivalents(t.starting_state);n.set(K(a),i);var l=Array.from(a).map((function(e){return t.state_names[e]}));l.sort(),r.push("{".concat(l.join(""),"}")),o.push(a),Array.from(a).some((function(e){return t.accepting_states.includes(e)}))&&e.accepting_states.push(i);i++;var u=o.pop();for(;null!=u;){var s,f=K(u),d=new Map,p=W(u);try{for(p.s();!(s=p.n()).done;){var h=s.value,_=t.transitions.get(h);if(null!=_){var y,v=W(_.keys());try{for(v.s();!(y=v.n()).done;){var b=y.value;if(b!=Ot){var m=d.get(b);null==m&&d.set(b,m=[]),c(m,t.deep_delta(h,b))}}}catch(t){v.e(t)}finally{v.f()}}}}catch(t){p.e(t)}finally{p.f()}var g,j=W(d.entries());try{for(j.s();!(g=j.n()).done;){var O=L(g.value,2),w=O[0],k=O[1],x=K(k),A=n.get(f);if(n.has(x))e.add_transition(A,w,n.get(x));else{var S=K(k);n.set(S,i);var P=Array.from(k).map((function(e){return t.state_names[e]}));P.sort(),r.push("{".concat(P.join(","),"}")),o.push(k),Array.from(k).some((function(e){return t.accepting_states.includes(e)}))&&e.accepting_states.push(i),e.add_transition(A,w,i),i++}}}catch(t){j.e(t)}finally{j.f()}u=o.pop()}return e.state_names=r,e}(e),i=o.create_elements();return function(t,e,n,r){t.splice(0,t.length),e.splice(0,e.length);for(var o=0;o<n.length;o++)t.push(n[o]);for(var i=0;i<r.length;i++)e.push(r[i])}(n,r,i.nodes,i.links),!0}function K(t){var e=t.slice();return e.sort(),e.join(",")}function H(t){for(var e=Object(at.d)("nodes"),n=Object(at.d)("links"),r=0;r<e.length;r++)if(e[r].contains_point(t))return e[r];for(var o=0;o<n.length;o++)if(n[o].contains_point(t))return n[o]}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e){return G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},G(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nt(t);if(e){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return Tt}));var ot,it=n("hosL"),at=n("gSRK"),ct=n("tp4g"),lt=n("1aiP"),ut=n("+BZU"),st=n("NZMw"),ft="*&*",dt="*",pt="+",ht="(",_t=")",yt=[pt,ht,_t],vt=[ft,pt],bt=[dt],mt=[ht,pt,ft,dt],gt=[_t,pt,ft],jt=(r(ot={},dt,8),r(ot,ft,4),r(ot,pt,2),ot),Ot="\\epsilon",wt=n("pT2+"),kt=n("YfD9"),xt=function(t){function e(t,e){var n;return w(j(n=i.call(this)),"from",void 0),w(j(n),"to",void 0),n.from=t,n.to=e,n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&b(t,e)}(e,t);var n,r,o,i=m(e);return n=e,(r=[{key:"draw",value:function(t){t.beginPath(),t.moveTo(this.to.x,this.to.y),t.lineTo(this.from.x,this.from.y),t.stroke(),Object(wt.b)(t,this.to.x,this.to.y,Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x))}},{key:"contains_point",value:function(){return!1}},{key:"set_anchor_point",value:function(){}}])&&v(n.prototype,r),o&&v(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(n("+MSS").a),At=T((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,"canvas",void 0),R(this,"update_select",(function(t){null!=t.selected_object&&(t.selected_object.selected=!1);var e=n.canvas.cursor.obj_at_last_pos;t.selected_object=e,null!=e&&(e.selected=!0,(e instanceof kt.a||e instanceof ut.a)&&e.set_mouse_start(n.canvas.cursor.mouse_down_pos.x,n.canvas.cursor.mouse_down_pos.y))})),R(this,"draw_node",(function(t){if(null==n.canvas.cursor.obj_at_last_pos){var e=n.canvas.cursor.last_pos,r=new kt.a(e.x,e.y);r.selected=!0,null!=t.selected_object&&(t.selected_object.selected=!1),t.selected_object=r,t.nodes.push(r)}})),R(this,"toggle_accept_state",(function(t){var e=n.canvas.cursor.obj_at_last_pos;e instanceof kt.a&&(e.isAcceptState=!e.isAcceptState),t.selected_object=e})),R(this,"drag",(function(t){var e=n.canvas.cursor.last_pos;t.active_objects.length>0||null!=t.selected_object&&t.selected_object.set_anchor_point(e.x,e.y)})),R(this,"update_temp_link",(function(t){var e,r=n.canvas.cursor.obj_at_mouse_down,o=n.canvas.cursor.obj_at_last_pos,i=P({},n.canvas.cursor.mouse_down_pos),a=P({},n.canvas.cursor.last_pos);r instanceof kt.a&&o instanceof kt.a?r==o?((e=new ut.a(r)).set_mouse_start(i.x,i.y),e.set_anchor_point(a.x,a.y)):e=new lt.a(r,o):e=o instanceof kt.a?new st.a(o,i):new xt(r instanceof kt.a?r.closest_point_on_circle(a.x,a.y):i,a),t.temp_link=e})),R(this,"end_temp_link",(function(t){t.temp_link instanceof xt||(t.links.push(t.temp_link),t.temp_link.selected=!0,null!=t.selected_object&&(t.selected_object.selected=!1),t.selected_object=t.temp_link),t.temp_link=void 0})),R(this,"eliminate",(function(t){var e,n=!1,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=x(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}([t.selected_object].concat(k(t.active_objects)));try{for(r.s();!(e=r.n()).done;){var o=e.value;o instanceof kt.a&&(n=n||p(o,t.nodes,t.links))}}catch(t){r.e(t)}finally{r.f()}return null!=t.selected_object&&(t.selected_object.selected=!1,t.selected_object=void 0),n})),R(this,"delete_element",(function(t){if(null!=t.selected_object){if(t.selected_object instanceof kt.a){for(var e=t.nodes.length-1;e>=0;e--)if(t.selected_object==t.nodes[e]){t.nodes.splice(e,1);break}for(var n=t.links.length-1;n>=0;n--){var r=t.links[n],o=!1;r instanceof lt.a?o=r.nodeA==t.selected_object||r.nodeB==t.selected_object:(r instanceof st.a||r instanceof ut.a)&&(o=r.node==t.selected_object),o&&t.links.splice(n,1)}}else for(var i=t.links.length-1;i>=0;i--)if(t.selected_object==t.links[i]){t.links.splice(i,1);break}t.selected_object=void 0}return!1})),this.canvas=e})),St=function(){function t(){Y(this,t),B(this,"state_names",void 0),B(this,"transitions",void 0),B(this,"starting_state",void 0),B(this,"accepting_states",void 0),this.state_names=[],this.transitions=new Map,this.starting_state=-1,this.accepting_states=[]}return N(t,[{key:"load",value:function(t,e){this.state_names=[],this.transitions=new Map,this.starting_state=-1,this.accepting_states=[];for(var n=new Map,r=0,o=0;o<t.length;o++){var i=t[o];n.set(l(i),r),this.state_names.push(i.text),i.isAcceptState&&this.accepting_states.push(r),r++}for(var a=0;a<e.length;a++){var c=e[a];if(c instanceof lt.a){var u=n.get(l(c.nodeA)),s=n.get(l(c.nodeB)),f=c.text.split(",").map((function(t){return t.trim()}));if(null!=u&&null!=s){var d=this.transitions.get(u);null==d&&(d=new Map,this.transitions.set(u,d));var p,h=I(f);try{for(h.s();!(p=h.n()).done;){var _=p.value,y=d.get(_);null==y&&d.set(_,y=[]),y.push(s)}}catch(t){h.e(t)}finally{h.f()}}}else if(c instanceof ut.a){var v=n.get(l(c.node)),b=v,m=c.text.split(",").map((function(t){return t.trim()}));if(null!=v&&null!=b){var g=this.transitions.get(v);null==g&&(g=new Map,this.transitions.set(v,g));var j,O=I(m);try{for(O.s();!(j=O.n()).done;){var w=j.value,k=g.get(w);null==k&&g.set(w,k=[]),k.push(b)}}catch(t){O.e(t)}finally{O.f()}}}else if(c instanceof st.a){var x=n.get(l(c.node));null!=x&&(this.starting_state=x)}}}},{key:"create_elements",value:function(){for(var t=[],e=[],n=new Map,r=0;r<this.state_names.length;r++){var o=u(),i=new kt.a(o.x,o.y);i.text=this.state_names[r],n.set(r,i),this.accepting_states.includes(r)&&(i.isAcceptState=!0),t.push(i)}var a,c=I(this.transitions.entries());try{for(c.s();!(a=c.n()).done;){var l=E(a.value,2),s=l[0],f=l[1],d=n.get(s);if(null!=d){var p,h=I(f.entries());try{for(h.s();!(p=h.n()).done;){var _,y=E(p.value,2),v=y[0],b=I(y[1]);try{for(b.s();!(_=b.n()).done;){var m=_.value,g=n.get(m);if(null!=g){var j=void 0;s==m?j=new ut.a(d):(j=new lt.a(d,g)).perpendicularPart+=100*Math.random(),j.text=v,e.push(j)}}}catch(t){b.e(t)}finally{b.f()}}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}if(-1!=this.starting_state){var O=n.get(this.starting_state);if(null!=O){var w=new st.a(O),k=u();w.set_anchor_point(k.x,k.y),w.text="start",e.push(w)}}return{nodes:t,links:e}}},{key:"add_transitions",value:function(t,e,n){var r=this.transitions.get(t);null==r&&(r=new Map,this.transitions.set(t,r));var o=r.get(e);null==o&&r.set(e,o=[]),c(o,n)}},{key:"add_transition",value:function(t,e,n){var r=this.transitions.get(t);null==r&&(r=new Map,this.transitions.set(t,r));var o=r.get(e);null==o&&r.set(e,o=[]),o.includes(n)||o.push(n)}},{key:"deep_delta",value:function(t,e){var n,r=[],o=I(this.get_equivalents(t));try{for(o.s();!(n=o.n()).done;){c(r,this.shallow_delta(n.value,e))}}catch(t){o.e(t)}finally{o.f()}return this.get_equivalents(r).slice()}},{key:"shallow_delta",value:function(t,e){var n=this.transitions.get(t);if(null!=n){var r=n.get(e);if(null!=r)return r.slice()}return[]}},{key:"get_equivalents",value:function(t){for(var e=(t=Array.isArray(t)?t.slice():[t]).slice(),n=e.pop();null!=n;){var r,o=I(this.shallow_delta(n,Ot).values());try{for(o.s();!(r=o.n()).done;){var i=r.value;t.includes(i)||e.push(i)}}catch(t){o.e(t)}finally{o.f()}n=e.pop()}return t}},{key:"is_deterministic",value:function(){var t,e=I(this.transitions.values());try{for(e.s();!(t=e.n()).done;){var n,r=I(t.value.entries());try{for(r.s();!(n=r.n()).done;){var o=E(n.value,2);if(o[0]==Ot||o[1].length>1)return!1}}catch(t){r.e(t)}finally{r.f()}}}catch(t){e.e(t)}finally{e.f()}return!0}}]),t}(),Pt=n("kM35"),Mt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),J(this,"canvas",void 0),J(this,"Tools",void 0),J(this,"mouse_down",(function(t){if(n.sync_canvas_coordinates(t,!0),n.canvas.cursor.mouse_down_pos=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n.canvas.cursor.last_pos),n.canvas.cursor.obj_at_mouse_down=n.canvas.cursor.obj_at_last_pos,Object(at.e)(["selected_object"],n.Tools.update_select),n.canvas.cursor.down=!0,Object(at.d)("curr_tool")===Pt.a.DRAW_LINK)Object(at.e)(["temp_link"],n.Tools.update_temp_link);n.canvas.cursor.moving=!1})),J(this,"mouse_up",(function(t){return n.sync_canvas_coordinates(t),n.canvas.cursor.down=!1,n.canvas.cursor.moving||(t.button==Pt.b.LEFT?n.left_click():t.button==Pt.b.RIGHT&&n.right_click()),null!=Object(at.d)("temp_link")&&Object(at.e)(["temp_link"],n.Tools.end_temp_link),n.canvas.cursor.moving=!1,t.preventDefault(),!1})),J(this,"mouse_move",(function(t){n.sync_canvas_coordinates(t,!0),n.canvas.cursor.moving=!0,n.canvas.cursor.down&&n.drag()})),J(this,"dbl_click",(function(t){n.sync_canvas_coordinates(t),n.canvas.cursor.obj_at_last_pos instanceof kt.a?Object(at.e)(["nodes","selected_object"],n.Tools.toggle_accept_state):Object(at.e)(["nodes","selected_object"],n.Tools.draw_node)})),J(this,"drag",(function(){if(Object(at.d)("curr_tool")===Pt.a.DRAW_LINK)Object(at.e)(["temp_link"],n.Tools.update_temp_link);else Object(at.e)(["nodes","links"],n.Tools.drag)})),J(this,"left_click",(function(){switch(Object(at.d)("curr_tool")){case Pt.a.DRAW_NODE:Object(at.e)(["nodes","selected_object"],n.Tools.draw_node);break;case Pt.a.DRAW_ACCEPT:Object(at.e)(["nodes","selected_object"],n.Tools.toggle_accept_state);break;case Pt.a.ELIMINATE:Object(at.e)(["nodes","links","selected_object"],n.Tools.eliminate)}})),J(this,"right_click",(function(){Object(at.e)(["nodes","links"],q)})),this.canvas=e,this.Tools=e.tools}var e,n,r;return e=t,n=[{key:"prevent_default",value:function(t){return t.preventDefault(),!1}},{key:"sync_canvas_coordinates",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.canvas.cursor.last_pos=this.canvas.to_canvas_space(t),e&&(this.canvas.cursor.obj_at_last_pos=H(this.canvas.cursor.last_pos))}}],n&&$(e.prototype,n),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Tt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),rt(et(t=i.call(this)),"ref",Object(it.createRef)()),rt(et(t),"el",void 0),rt(et(t),"ctx",void 0),rt(et(t),"cursor",void 0),rt(et(t),"handlers",void 0),rt(et(t),"tools",void 0),rt(et(t),"caret_interval",-1),rt(et(t),"caret_function",(function(){null==Object(at.d)("selected_object")?(window.clearInterval(t.caret_interval),t.caret_interval=-1):t.setState({caret_visible:!t.state.caret_visible})})),rt(et(t),"draw",(function(){if(null!=t.ctx){var e=t.state.view_zone;t.ctx.setTransform(e.zoom,0,0,e.zoom,e.x,e.y),t.draw_using(t.ctx)}else if(null!=t.el){var n=t.el.getContext("2d");if(null!=n){t.ctx=n;var r=t.state.view_zone;n.setTransform(r.zoom,0,0,r.zoom,r.x,r.y),t.draw_using(n)}}})),t.state={caret_visible:!1,view_zone:{zoom:1,x:0,y:0},selected_zone:void 0},t.cursor={mouse_down_pos:{x:0,y:0},obj_at_mouse_down:void 0,last_pos:{x:0,y:0},obj_at_last_pos:void 0,down:!1,moving:!1},t.tools=new At(et(t)),t.handlers=new Mt(et(t)),t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&G(t,e)}(e,t);var n,r,o,i=Q(e);return n=e,(r=[{key:"componentDidMount",value:function(){Object(at.h)(this),this.el=this.ref.current,this.ctx=this.el.getContext("2d"),this.el.onmousedown=this.handlers.mouse_down,this.el.onmousemove=this.handlers.mouse_move,this.el.onmouseup=this.handlers.mouse_up,this.el.ondblclick=this.handlers.dbl_click,this.el.oncontextmenu=this.handlers.prevent_default,Object(at.i)(["nodes","links","active_objects","selected_object","temp_link"],this),Object(at.a)(this.draw)}},{key:"componentWillUnmount",value:function(){Object(at.j)(this)}},{key:"shouldComponentUpdate",value:function(){return this.reinit_caret(),this.draw(),!1}},{key:"render",value:function(){return Object(it.h)("canvas",{ref:this.ref,id:"canvas",width:ct.c.x,height:ct.c.y},Object(it.h)("span",null,"Your browser does not support",Object(it.h)("br",null),"the HTML5 <canvas> element"))}},{key:"reinit_caret",value:function(){null!=Object(at.d)("selected_object")&&-1==this.caret_interval&&(this.caret_interval=window.setInterval(this.caret_function,300))}},{key:"to_canvas_space",value:function(t){var e=this.state.view_zone,n=this.el.getBoundingClientRect();return{x:(t.clientX-n.x-e.x)/e.zoom,y:(t.clientY-n.y-e.y)/e.zoom}}},{key:"draw_using",value:function(t){if(null!=this.el){var e=Object(at.d)("nodes"),n=Object(at.d)("links"),r=Object(at.d)("selected_object"),o=Object(at.d)("temp_link");t.clearRect(0,0,this.el.width,this.el.height),t.save(),t.translate(.5,.5);for(var i=0;i<e.length;i++)t.lineWidth=1,t.fillStyle=t.strokeStyle=e[i].curr_colour(),e[i].draw(t,e[i]==r&&this.state.caret_visible);for(var a=0;a<n.length;a++)t.lineWidth=1,t.fillStyle=t.strokeStyle=n[a].curr_colour(),n[a].draw(t,n[a]==r&&this.state.caret_visible);null!=o&&(t.lineWidth=1,t.fillStyle=t.strokeStyle="black",o.draw(t,o==r&&this.state.caret_visible)),t.restore()}}}])&&Z(n.prototype,r),o&&Z(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(it.Component)},NZMw:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return h}));var f=n("+MSS"),d=n("tp4g"),p=n("pT2+"),h=function(t){function e(t,e){var n;return s(l(n=u.call(this)),"node",void 0),s(l(n),"deltaX",void 0),s(l(n),"deltaY",void 0),s(l(n),"text",void 0),n.node=t,n.deltaX=0,n.deltaY=0,n.text="",e&&n.set_anchor_point(e.x,e.y),n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&i(t,e)}(e,t);var n,r,c,u=a(e);return n=e,r=[{key:"set_anchor_point",value:function(t,e){this.deltaX=t-this.node.x,this.deltaY=e-this.node.y,Math.abs(this.deltaX)<d.g&&(this.deltaX=0),Math.abs(this.deltaY)<d.g&&(this.deltaY=0)}},{key:"get_start_point",value:function(){return{x:this.node.x+this.deltaX,y:this.node.y+this.deltaY}}},{key:"get_endpoints",value:function(){var t=this.node.x+this.deltaX,e=this.node.y+this.deltaY,n=this.node.closest_point_on_circle(t,e);return{startX:t,startY:e,endX:n.x,endY:n.y}}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.get_endpoints();t.beginPath(),t.moveTo(n.startX,n.startY),t.lineTo(n.endX,n.endY),t.stroke();var r=Math.atan2(n.startY-n.endY,n.startX-n.endX);Object(p.c)(t,this.text,n.startX,n.startY,r,this.selected,e),Object(p.b)(t,n.endX,n.endY,Math.atan2(-this.deltaY,-this.deltaX))}},{key:"contains_point",value:function(t){var e=t.x,n=t.y,r=this.get_endpoints(),o=r.endX-r.startX,i=r.endY-r.startY,a=Math.sqrt(o*o+i*i),c=(o*(e-r.startX)+i*(n-r.startY))/(a*a);return c>0&&c<1&&Math.abs((o*(n-r.startY)-i*(e-r.startX))/a)<d.d}}],r&&o(n.prototype,r),c&&o(n,c),Object.defineProperty(n,"prototype",{writable:!1}),e}(f.a)},YfD9:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return h}));var f=n("+MSS"),d=n("tp4g"),p=n("pT2+"),h=function(t){function e(t,e){var n;return s(l(n=u.call(this)),"x",void 0),s(l(n),"y",void 0),s(l(n),"mouseOffsetX",void 0),s(l(n),"mouseOffsetY",void 0),s(l(n),"isAcceptState",void 0),s(l(n),"text",void 0),n.x=t,n.y=e,n.mouseOffsetX=0,n.mouseOffsetY=0,n.isAcceptState=!1,n.text="",n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&i(t,e)}(e,t);var n,r,c,u=a(e);return n=e,r=[{key:"set_mouse_start",value:function(t,e){this.mouseOffsetX=this.x-t,this.mouseOffsetY=this.y-e}},{key:"set_anchor_point",value:function(t,e){this.x=t+this.mouseOffsetX,this.y=e+this.mouseOffsetY}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.beginPath(),t.arc(this.x,this.y,d.e,0,2*Math.PI,!1),t.stroke(),Object(p.c)(t,this.text,this.x,this.y,null,this.selected,e),this.isAcceptState&&(t.beginPath(),t.arc(this.x,this.y,d.e-6,0,2*Math.PI,!1),t.stroke())}},{key:"closest_point_on_circle",value:function(t,e){var n=t-this.x,r=e-this.y,o=Math.sqrt(n*n+r*r);return{x:this.x+n*d.e/o,y:this.y+r*d.e/o}}},{key:"contains_point",value:function(t){return(t.x-this.x)*(t.x-this.x)+(t.y-this.y)*(t.y-this.y)<d.e*d.e}}],r&&o(n.prototype,r),c&&o(n,c),Object.defineProperty(n,"prototype",{writable:!1}),e}(f.a)},d7ev:function(t,e,n){"use strict";(function(t){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&c(t,e)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}n.d(e,"a",(function(){return _}));var d=n("hosL"),p=n("gSRK"),h=n("kM35"),_=function(e){function n(){var t;return t=r.call(this),Object(p.i)(["curr_tool"],s(t)),t}a(n,e);var r=l(n);return i(n,[{key:"render",value:function(){return Object(d.h)(t,null,Object(d.h)("div",null,"Tools:"),Object(d.h)("div",{style:"display: flex; flex-direction: row;"},Object(d.h)(y,{tooltip:"Select",icon:"",tool_mode:h.a.POINTER}),Object(d.h)(y,{tooltip:"Draw Node",icon:"",tool_mode:h.a.DRAW_NODE}),Object(d.h)(y,{tooltip:"Draw Link",icon:"",tool_mode:h.a.DRAW_LINK}),Object(d.h)(y,{tooltip:"Draw Accept",icon:"",tool_mode:h.a.DRAW_ACCEPT}),Object(d.h)(y,{tooltip:"Eliminate",icon:"",tool_mode:h.a.ELIMINATE})))}}]),n}(d.Component),y=function(t){function e(t){return n.call(this,t)}a(e,t);var n=l(e);return i(e,[{key:"render",value:function(){var t=this;return Object(d.h)("div",{onClick:function(){Object(p.f)(["curr_tool"],(function(e){return e.curr_tool!=t.props.tool_mode&&(e.curr_tool=t.props.tool_mode,!0)}))},style:this.props.tool_mode==Object(p.d)("curr_tool")?"color: cyan":"color: black"},this.props.tooltip)}}]),e}(d.Component)}).call(this,n("hosL").Fragment)},dmYQ:function(t,e,n){"use strict";(function(t){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var u=n("hosL"),s=n("gSRK"),f=n("GClJ"),d=n("d7ev"),p=function(e){function n(){return p.apply(this,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&i(t,e)}(n,e);var r,c,l,p=a(n);return r=n,(c=[{key:"componentWillMount",value:function(){Object(s.g)()}},{key:"render",value:function(){return Object(u.h)(t,null,Object(u.h)("div",{id:"preact_root"},Object(u.h)(d.a,null),Object(u.h)(f.a,null)),Object(u.h)("div",null,Object(u.h)("textarea",{id:"output"}),Object(u.h)("p",null,"The big white box above is the FSM designer.  Here's how to use it:"),Object(u.h)("ul",null,Object(u.h)("li",null,Object(u.h)("b",null,"Add a state:")," double-click on the canvas"),Object(u.h)("li",null,Object(u.h)("b",null,"Add an arrow:")," shift-drag on the canvas"),Object(u.h)("li",null,Object(u.h)("b",null,"Move something:")," drag it around"),Object(u.h)("li",null,Object(u.h)("b",null,"Delete something:")," click it and press the delete key (not the backspace key)")),Object(u.h)("ul",null,Object(u.h)("li",null,Object(u.h)("b",null,"Make accept state:")," double-click on an existing state"),Object(u.h)("li",null,Object(u.h)("b",null,"Type numeric subscript:"),' put an underscore before the number (like "S_0")'),Object(u.h)("li",null,Object(u.h)("b",null,"Type greek letter:"),' put a backslash before it (like "\\beta")'),Object(u.h)("li",null,Object(u.h)("b",null,"Eliminate a non-accept, non-start state:")," use the state tool or press ]"),Object(u.h)("li",null,Object(u.h)("b",null,"Perform subset construction:")," right click anywhere on the canvas")),Object(u.h)("p",null,"This was made in HTML5 and JavaScript using the canvas element.")),Object(u.h)("p",null,"Created by ",Object(u.h)("a",{href:"http://madebyevan.com/"},"Evan Wallace")," in 2010 ",Object(u.h)("br",null),"+ Extended by ",Object(u.h)("a",{href:"https://alialhasnawi.github.io/"},"Ali Al-Hasnawi in 2021")))}}])&&o(r.prototype,c),l&&o(r,l),Object.defineProperty(r,"prototype",{writable:!1}),n}(u.Component);e.a=p}).call(this,n("hosL").Fragment)},gSRK:function(t,e,n){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){var n,o=r(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;A[i].includes(e)||A[i].push(e)}}catch(t){o.e(t)}finally{o.f()}S.set(e,t)}function a(t){var e=S.get(t);if(null!=e){var n,o=r(e);try{for(o.s();!(n=o.n()).done;)for(var i=n.value,a=A[i].length-1;a>=0;a--)t==A[i][a]&&(A[i].splice(a,1),a--)}catch(t){o.e(t)}finally{o.f()}}}function c(){return m}function l(t){null==m&&(m=t)}function u(t,e){t.includes("curr_tool")&&(x.last_tool=x.curr_tool),e(x),(t.includes("nodes")||t.includes("links")||t.includes("selected_object"))&&h(),_(t)}function s(t,e){var n=x.curr_tool;e(x)&&(t.includes("curr_tool")&&(x.last_tool=n),(t.includes("nodes")||t.includes("links")||t.includes("selected_object"))&&h(),_(t))}function f(t){_(t)}function d(t){return x[t]}function p(t){return t(x)}function h(){var t=b();P.push(t),[],function(t){if(!localStorage||!JSON)return;localStorage.fsm=t}(t)}function _(t){var e,n=[],o=r(t);try{for(o.s();!(e=o.n()).done;){var i,a=r(A[e.value]);try{for(a.s();!(i=a.n()).done;){var c=i.value;n.includes(c)||n.push(c)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){o.e(t)}finally{o.f()}for(var l=0,u=n;l<u.length;l++){u[l].setState({})}}function y(){if("undefined"!=typeof window){if(!localStorage||!JSON)return;try{var t=localStorage.getItem("fsm");if(null!=t){var e=v(t);x.nodes=e.nodes,x.links=e.links}}catch(t){localStorage.fsm=""}_(["nodes","links"])}}function v(t){var e=[],n=[];if(!localStorage||!JSON)return{nodes:e,links:n};for(var r=JSON.parse(t),o=0;o<r.nodes.length;o++){var i=r.nodes[o],a=new w.a(i.x,i.y);a.isAcceptState=i.isAcceptState,a.text=i.text,e.push(a)}for(var c=0;c<r.links.length;c++){var l=r.links[c],u=null;"SelfLink"==l.type?((u=new j.a(e[l.node])).anchorAngle=l.anchorAngle,u.text=l.text):"StartLink"==l.type?((u=new O.a(e[l.node])).deltaX=l.deltaX,u.deltaY=l.deltaY,u.text=l.text):"NodeLink"==l.type&&((u=new g.a(e[l.nodeA],e[l.nodeB])).parallelPart=l.parallelPart,u.perpendicularPart=l.perpendicularPart,u.text=l.text,u.lineAngleAdjust=l.lineAngleAdjust),null!=u&&n.push(u)}return{nodes:e,links:n}}function b(){if(!localStorage||!JSON)return"";for(var t=x.nodes,e=x.links,n={nodes:[],links:[]},r=0;r<t.length;r++){var o=t[r];n.nodes.push({x:o.x,y:o.y,text:o.text,isAcceptState:o.isAcceptState})}for(var i=0;i<e.length;i++){var a=e[i],c=void 0;a instanceof j.a?c={type:"SelfLink",node:t.indexOf(a.node),text:a.text,anchorAngle:a.anchorAngle}:a instanceof O.a?c={type:"StartLink",node:t.indexOf(a.node),text:a.text,deltaX:a.deltaX,deltaY:a.deltaY}:a instanceof g.a&&(c={type:"NodeLink",nodeA:t.indexOf(a.nodeA),nodeB:t.indexOf(a.nodeB),text:a.text,lineAngleAdjust:a.lineAngleAdjust,parallelPart:a.parallelPart,perpendicularPart:a.perpendicularPart}),null!=c&&n.links.push(c)}return JSON.stringify(n)}n.d(e,"i",(function(){return i})),n.d(e,"j",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"g",(function(){return y}));var m,g=n("1aiP"),j=n("+BZU"),O=n("NZMw"),w=n("YfD9"),k=n("kM35"),x={temp_link:void 0,active_objects:[],selected_object:void 0,nodes:[],links:[],last_tool:k.a.POINTER,curr_tool:k.a.POINTER},A={temp_link:[],active_objects:[],selected_object:[],nodes:[],links:[],last_tool:[],curr_tool:[]},S=new Map,P=[]},hosL:function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}function o(t){var e=t.parentNode;e&&e.removeChild(t)}function i(t,e,n){var r,o,i,c={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:c[i]=e[i];if(arguments.length>2&&(c.children=arguments.length>3?E.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===c[i]&&(c[i]=t.defaultProps[i]);return a(t,c,r,o,null)}function a(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++C:o};return null==o&&null!=I.vnode&&I.vnode(i),i}function c(){return{current:null}}function l(t){return t.children}function u(t,e){this.props=t,this.context=e}function s(t,e){if(null==e)return t.__?s(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?s(t):null}function f(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return f(t)}}function d(t){(!t.__d&&(t.__d=!0)&&Y.push(t)&&!p.__r++||N!==I.debounceRendering)&&((N=I.debounceRendering)||X)(p)}function p(){for(var t;p.__r=Y.length;)t=Y.sort((function(t,e){return t.__v.__b-e.__v.__b})),Y=[],t.some((function(t){var e,n,o,i,a,c;t.__d&&(a=(i=(e=t).__v).__e,(c=e.__P)&&(n=[],(o=r({},i)).__v=i.__v+1,O(c,i,o,e.__n,void 0!==c.ownerSVGElement,null!=i.__h?[a]:null,n,null==a?s(i):a,i.__h),w(n,i),i.__e!=a&&f(i)))}))}function h(t,e,n,r,o,i,c,u,f,d){var p,h,y,b,m,g,j,w=r&&r.__k||W,k=w.length;for(n.__k=[],p=0;p<e.length;p++)if(null!=(b=n.__k[p]=null==(b=e[p])||"boolean"==typeof b?null:"string"==typeof b||"number"==typeof b||"bigint"==typeof b?a(null,b,null,null,b):Array.isArray(b)?a(l,{children:b},null,null,null):b.__b>0?a(b.type,b.props,b.key,null,b.__v):b)){if(b.__=n,b.__b=n.__b+1,null===(y=w[p])||y&&b.key==y.key&&b.type===y.type)w[p]=void 0;else for(h=0;h<k;h++){if((y=w[h])&&b.key==y.key&&b.type===y.type){w[h]=void 0;break}y=null}O(t,b,y=y||L,o,i,c,u,f,d),m=b.__e,(h=b.ref)&&y.ref!=h&&(j||(j=[]),y.ref&&j.push(y.ref,null,b),j.push(h,b.__c||m,b)),null!=m?(null==g&&(g=m),"function"==typeof b.type&&b.__k===y.__k?b.__d=f=_(b,f,t):f=v(t,b,y,w,m,f),"function"==typeof n.type&&(n.__d=f)):f&&y.__e==f&&f.parentNode!=t&&(f=s(y))}for(n.__e=g,p=k;p--;)null!=w[p]&&("function"==typeof n.type&&null!=w[p].__e&&w[p].__e==n.__d&&(n.__d=s(r,p+1)),A(w[p],w[p]));if(j)for(p=0;p<j.length;p++)x(j[p],j[++p],j[++p])}function _(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?_(r,e,n):v(n,r,r,o,r.__e,e));return e}function y(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){y(t,e)})):e.push(t)),e}function v(t,e,n,r,o,i){var a,c,l;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(c=i,l=0;(c=c.nextSibling)&&l<r.length;l+=2)if(c==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function b(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||U.test(e)?n:n+"px"}function m(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||b(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||b(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?j:g,i):t.removeEventListener(e,i?j:g,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function g(t){this.l[t.type+!1](I.event?I.event(t):t)}function j(t){this.l[t.type+!0](I.event?I.event(t):t)}function O(t,e,n,o,i,a,c,s,f){var d,p,_,y,v,b,m,g,j,O,w,x=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(f=n.__h,s=e.__e=n.__e,e.__h=null,a=[s]),(d=I.__b)&&d(e);try{t:if("function"==typeof x){if(g=e.props,j=(d=x.contextType)&&o[d.__c],O=d?j?j.props.value:d.__:o,n.__c?m=(p=e.__c=n.__c).__=p.__E:("prototype"in x&&x.prototype.render?e.__c=p=new x(g,O):(e.__c=p=new u(g,O),p.constructor=x,p.render=S),j&&j.sub(p),p.props=g,p.state||(p.state={}),p.context=O,p.__n=o,_=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=x.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=r({},p.__s)),r(p.__s,x.getDerivedStateFromProps(g,p.__s))),y=p.props,v=p.state,_)null==x.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==x.getDerivedStateFromProps&&g!==y&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(g,O),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(g,p.__s,O)||e.__v===n.__v){p.props=g,p.state=p.__s,e.__v!==n.__v&&(p.__d=!1),p.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),p.__h.length&&c.push(p);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(g,p.__s,O),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(y,v,b)}))}p.context=O,p.props=g,p.state=p.__s,(d=I.__r)&&d(e),p.__d=!1,p.__v=e,p.__P=t,d=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(o=r(r({},o),p.getChildContext())),_||null==p.getSnapshotBeforeUpdate||(b=p.getSnapshotBeforeUpdate(y,v)),w=null!=d&&d.type===l&&null==d.key?d.props.children:d,h(t,Array.isArray(w)?w:[w],e,n,o,i,a,c,s,f),p.base=e.__e,e.__h=null,p.__h.length&&c.push(p),m&&(p.__E=p.__=null),p.__e=!1}else null==a&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=k(n.__e,e,n,o,i,a,c,f);(d=I.diffed)&&d(e)}catch(t){e.__v=null,(f||null!=a)&&(e.__e=s,e.__h=!!f,a[a.indexOf(s)]=null),I.__e(t,e,n)}}function w(t,e){I.__c&&I.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){I.__e(t,e.__v)}}))}function k(t,e,n,r,i,a,c,l){var u,f,d,p=n.props,_=e.props,y=e.type,v=0;if("svg"===y&&(i=!0),null!=a)for(;v<a.length;v++)if((u=a[v])&&"setAttribute"in u==!!y&&(y?u.localName===y:3===u.nodeType)){t=u,a[v]=null;break}if(null==t){if(null===y)return document.createTextNode(_);t=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,_.is&&_),a=null,l=!1}if(null===y)p===_||l&&t.data===_||(t.data=_);else{if(a=a&&E.call(t.childNodes),f=(p=n.props||L).dangerouslySetInnerHTML,d=_.dangerouslySetInnerHTML,!l){if(null!=a)for(p={},v=0;v<t.attributes.length;v++)p[t.attributes[v].name]=t.attributes[v].value;(d||f)&&(d&&(f&&d.__html==f.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||m(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||m(t,i,e[i],n[i],r)}(t,_,p,i,l),d)e.__k=[];else if(v=e.props.children,h(t,Array.isArray(v)?v:[v],e,n,r,i&&"foreignObject"!==y,a,c,a?a[0]:n.__k&&s(n,0),l),null!=a)for(v=a.length;v--;)null!=a[v]&&o(a[v]);l||("value"in _&&void 0!==(v=_.value)&&(v!==p.value||v!==t.value||"progress"===y&&!v)&&m(t,"value",v,p.value,!1),"checked"in _&&void 0!==(v=_.checked)&&v!==t.checked&&m(t,"checked",v,p.checked,!1))}return t}function x(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){I.__e(t,n)}}function A(t,e,n){var r,i;if(I.unmount&&I.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||x(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){I.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&A(r[i],e,"function"!=typeof t.type);n||null==t.__e||o(t.__e),t.__e=t.__d=void 0}function S(t,e,n){return this.constructor(t,n)}function P(t,e,n){var r,o,a;I.__&&I.__(t,e),o=(r="function"==typeof n)?null:n&&n.__k||e.__k,a=[],O(e,t=(!r&&n||e).__k=i(l,null,[t]),o||L,L,void 0!==e.ownerSVGElement,!r&&n?[n]:o?null:e.firstChild?E.call(e.childNodes):null,a,!r&&n?n:o?o.__e:e.firstChild,r),w(a,t)}function M(t,e){P(t,e,M)}function T(t,e,n){var o,i,c,l=r({},t.props);for(c in e)"key"==c?o=e[c]:"ref"==c?i=e[c]:l[c]=e[c];return arguments.length>2&&(l.children=arguments.length>3?E.call(arguments,2):n),a(t.type,l,o||t.key,i||t.ref,null)}function R(t,e){var n={__c:e="__cC"+B++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(d)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}n.r(e),n.d(e,"render",(function(){return P})),n.d(e,"hydrate",(function(){return M})),n.d(e,"createElement",(function(){return i})),n.d(e,"h",(function(){return i})),n.d(e,"Fragment",(function(){return l})),n.d(e,"createRef",(function(){return c})),n.d(e,"isValidElement",(function(){return D})),n.d(e,"Component",(function(){return u})),n.d(e,"cloneElement",(function(){return T})),n.d(e,"createContext",(function(){return R})),n.d(e,"toChildArray",(function(){return y})),n.d(e,"options",(function(){return I}));var E,I,C,D,Y,X,N,B,L={},W=[],U=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;E=W.slice,I={__e:function(t,e){for(var n,r,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),o=n.__d),o)return n.__E=n}catch(e){t=e}throw t}},C=0,D=function(t){return null!=t&&void 0===t.constructor},u.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=r({},this.state),"function"==typeof t&&(t=t(r({},n),this.props)),t&&r(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),d(this))},u.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),d(this))},u.prototype.render=l,Y=[],X="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,p.__r=0,B=0},kM35:function(t,e,n){"use strict";var r,o,i;n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),function(t){t[t.POINTER=1]="POINTER",t[t.DRAW_NODE=2]="DRAW_NODE",t[t.DRAW_LINK=3]="DRAW_LINK",t[t.DRAW_ACCEPT=4]="DRAW_ACCEPT",t[t.ELIMINATE=5]="ELIMINATE",t[t.PAN=6]="PAN"}(r||(r={})),function(t){t[t.LOAD=1]="LOAD",t[t.SAVE=2]="SAVE",t[t.UNDO=3]="UNDO",t[t.REDO=4]="REDO",t[t.SUBSET_CONSTRUCT=5]="SUBSET_CONSTRUCT",t[t.RESET_ZOOM=6]="RESET_ZOOM",t[t.FORCE_EXPAND=7]="FORCE_EXPAND"}(o||(o={})),function(t){t[t.LEFT=0]="LEFT",t[t.MIDDLE=1]="MIDDLE",t[t.RIGHT=2]="RIGHT"}(i||(i={}))},mdyV:function(t,e,n){"use strict";n.r(e);var r=n("hosL"),o=r.h,i=r.render,a=r.hydrate,c=function(t){return t&&t.default?t.default:t},l=function(t){return"/"===t[t.length-1]?t:t+"/"};if("serviceWorker"in navigator&&navigator.serviceWorker.register(n.p+"sw.js"),"function"==typeof c(n("qVkA"))){var u=document.getElementById("preact_root")||document.body.firstElementChild;0,function(){var t=c(n("qVkA")),e={},r=document.querySelector('[type="__PREACT_CLI_DATA__"]');r&&(e=JSON.parse(decodeURI(r.innerHTML)).preRenderData||e);var s={preRenderData:e},f=e.url?l(e.url):"",d=a&&f===l(location.pathname);u=(d?a:i)(o(t,{CLI_DATA:s}),document.body,u)}()}},"pT2+":function(t,e,n){"use strict";function r(t,e,n,r,o,c){var l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=a(e);t.font='20px "Times New Roman", serif';var s=i(u);if(n-=s/2,null!=o){var f=Math.cos(o),d=Math.sin(o),p=(s/2+5)*(f>0?1:-1),h=15*(d>0?1:-1),_=d*Math.pow(Math.abs(d),40)*p-f*Math.pow(Math.abs(f),10)*h;n+=p-d*_,r+=h+f*_}"advancedFillText"in t?t.advancedFillText(u,e,n+s/2,r,o):(n=Math.round(n),r=Math.round(r),t.fillText(u,n,r+6),c&&l&&document.hasFocus()&&(n+=s,t.beginPath(),t.moveTo(n,r-10),t.lineTo(n,r+10),t.stroke()))}function o(t,e,n,r){var o=Math.cos(r),i=Math.sin(r);t.beginPath(),t.moveTo(e,n),t.lineTo(e-8*o+5*i,n-8*i-5*o),t.lineTo(e-8*o-5*i,n-8*i+5*o),t.fill()}function i(t){var e=Object(c.c)();if(null!=e){var n=e.ctx;if(null!=n)return n.font='20px "Times New Roman", serif',n.measureText(t).width}return 0}function a(t){for(var e=0;e<l.length;e++){var n=l[e];t=(t=t.replace(new RegExp("\\\\"+n,"g"),String.fromCharCode(913+e+ +(e>16)))).replace(new RegExp("\\\\"+n.toLowerCase(),"g"),String.fromCharCode(945+e+ +(e>16)))}for(var r=0;r<10;r++)t=t.replace(new RegExp("_"+r,"g"),String.fromCharCode(8320+r));return t}n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var c=n("gSRK"),l=["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega"]},qVkA:function(t,e,n){"use strict";n.r(e);var r=n("dmYQ"),o=n("gSRK"),i=n("kM35");e.default=r.a;Object(o.g)(),"undefined"!=typeof window&&(window.onkeydown=function(t){switch(t.key){case"Shift":Object(o.f)(["curr_tool"],(function(t){return t.curr_tool==i.a.DRAW_LINK?(t.last_tool=t.curr_tool,!1):(t.curr_tool=i.a.DRAW_LINK,!0)}));break;case"Backspace":Object(o.f)(["selected_object"],(function(t){return null!=t.selected_object&&(t.selected_object.text=t.selected_object.text.substring(0,t.selected_object.text.length-1),!0)}));break;case"]":Object(o.f)(["selected_object"],Object(o.c)().tools.eliminate);break;case"Delete":Object(o.e)(["selected_object"],Object(o.c)().tools.delete_element);break;default:1==t.key.length&&Object(o.f)(["selected_object"],(function(e){return null!=e.selected_object&&(e.selected_object.text+=t.key,!0)}))}return t.preventDefault(),!1},window.onkeyup=function(t){return"Shift"==t.key&&Object(o.f)(["curr_tool"],(function(t){return t.curr_tool==i.a.DRAW_LINK&&(t.curr_tool=t.last_tool,!0)})),t.preventDefault(),!1})},tp4g:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return s}));var r=30,o=6,i=6,a=30,c={x:800,y:600},l="black",u="blue",s="green"}});
//# sourceMappingURL=bundle.0a74a.js.map